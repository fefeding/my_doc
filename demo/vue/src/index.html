<style>
.hide {display: none;}
.show {display: inline;}
</style>

<script src="lib/vue.js"></script>

<div id="app" v-bind:title="message" :class="{show: isshow}">
    <ul>
        <comment v-for="(item, index) in items" :key="index" :index="index" v-bind="item" v-on:click-item="showUser"   >
            {{ 'q' + index }}
        </comment>
    </ul>
</div>

<script>
Vue.component('comment', {
    props: [ 'user', 'content', 'index' ],
    data() {
        return {
            msg: this.content
        }
    },
    template: '<li  v-bind:user="user" @click.prevent="$emit(\'click-item\', user, $event)" :style="{color: index%2==0?\'red\':\'green\'}"><slot></slot><p v-html="message"></p> <br />{{ message }}<input v-model.lazy="message"></li>',
    watch: {
        message(v) {
            //this.content = v;
        }
    },
    computed: {
        message: {
            get: function() {
                return this.msg + ' test';
            },
            set: function(v) {
                this.msg = v;
            }
        }
    }
});

var app = new Vue({
  el: '#app',
  data: {
    isshow: true,
    message: 'test',
    items: [
        {
            //index: 1,
            content: 'msg 1',
            user: 'fefe'
        },
        {
            //index: 2,
            content: 'msg2',
            user: 'tong'
        }
    ]
  }, 
  beforeCreate: function(){

  },
  created: function() {
    console.log(this.items);
  },
  beforeMount: function(){

  },
  mounted: function(){

  },
  beforeUpdate: function() {

  },
  updated: function() {

  },
  destroyed: function() {

  },
  methods: {
    showUser: function(name, e) {
        console.log(e);
    }
  }
});

console.log(app.$el.attributes);
</script>